# Basic Pentesting 

[Try Hack Me Room](https://tryhackme.com/room/basicpentestingjt) 

# Room Details:
> In these set of tasks you'll learn the following: <br />
    - brute forcing <br />
    - hash cracking <br />
    - service enumeration <br />
    - Linux Enumeration <br />The main goal here is to learn as much as possible. Make sure you are connected to our network using your OpenVPN configuration file.

# Tools Used: 
  - nmap
  - dirbuster
  - hydra
  - enum4linux
  - ssh2john
  - linpeas
  - johntheripper

# Analysis

1. Scanned using nmap using the following commands shown below. Once the scan completed noticed the http server was running Apache 2.4.41. <img width="1707" height="756" alt="Screenshot from 2025-08-08 09-34-52" src="https://github.com/user-attachments/assets/2413ca55-fca2-492f-a069-02da5e24fca8" />

2. Going to a browser I input the IP address and see a notice: <img width="1707" height="756" alt="Screenshot from 2025-08-08 09-38-08" src="https://github.com/user-attachments/assets/c02a10c2-1715-45df-a49d-6242659e7e49" />

3. In this website I checked the page source code to find anything of interest. Surely enough we have found a note 
<img width="1713" height="863" alt="Screenshot from 2025-08-08 09-38-44" src="https://github.com/user-attachments/assets/2efaf455-de86-4abf-8739-106c2bcd1162" />

<img width="1713" height="863" alt="Screenshot from 2025-08-08 09-39-20" src="https://github.com/user-attachments/assets/5761757b-dfb5-4bb0-9b2f-d322bdb03e30" />

4. If we check the directory mentioned in the note from the source code we can redirect to the `<IP address>/dev`, unforunately I got a not found link. <img width="1713" height="863" alt="Screenshot from 2025-08-08 09-39-43" src="https://github.com/user-attachments/assets/021ffb58-be75-4bb0-ae73-4b25359ba0ff" />

5. Next thing to try is to find if there are any valid directories. To do this I used DirBuster using the file directory-list-2.3.-medium.txt on the IP address we have. <img width="1401" height="989" alt="Screenshot from 2025-08-08 09-43-41" src="https://github.com/user-attachments/assets/6a5938ae-18fc-4221-bc4d-5aa2b44ce8ba" />

6. After DirBuster has ran I found a directory `/development`. 
<img width="1401" height="989" alt="Screenshot from 2025-08-08 09-44-46" src="https://github.com/user-attachments/assets/a0c9edc6-b25c-493d-a3c1-4793e1adc0a6" />

7. Redirecting to this location we can see two text files. <img width="1634" height="1124" alt="Screenshot from 2025-08-08 09-45-13" src="https://github.com/user-attachments/assets/c68bd59c-4854-4cc8-be1d-12624df49f09" />

8. Reading through both of these, we can see two users talking to each other with the initials of K and J. <img width="1634" height="1124" alt="Screenshot from 2025-08-08 09-45-38" src="https://github.com/user-attachments/assets/e85c987f-a64e-4671-9df5-dbe0092457cb" />
<img width="1368" height="536" alt="Screenshot from 2025-08-08 09-47-30" src="https://github.com/user-attachments/assets/3e243ccb-14cf-44ba-85c3-d7d9b58ef93c" />

9. To find out more I’ll try using enum4linux, which is can be used to gather information from a system such as user accounts, shared folders and share password policies. To run enum4linux I opened up the applications and looked for the enum4linux application icon. From there opening terminal we use the command: <br />
       `enum4linux.pl -a <IP Address>`
   <details>
	   <summary> the “-a” function will attempt all the simple enumerations shown below) </summary> 
   -U       get userlist <br />
   -M       get machine list* <br />
   -S       get sharelist <br />
   -P       get password policy information <br />
   -G       get group and member list <br />
   -d       be detailed, applies to -U and -S <br />
	</details>
 
 10. After it’s completed I notice the two initals appear now known as Jan and Kay are users on the system. <img width="1153" height="217" alt="Screenshot from 2025-08-08 09-51-05" src="https://github.com/user-attachments/assets/e21aee40-2364-4f60-bb1d-cca905cc88d0" />

 11. Since we now have the usernames of the system and the IP address they use let’s try to use SSH to gain access to the systems. To do this we’ll need a password first for the system and the user.
     
 12. Starting off with Jan we’ll attemtpt to use `hydra` a brute force password tool. I used the generic rockyou.txt and after a while we obtained the password for Jan which we can now use to log in via SSH.
     <details> <summary> Code explaination </summary>
        ◦ -l will attempt to log in with the username stated following the command. <br />
        ◦ -P indicates the location of the password file to be used. <br />
        ◦ ssh:/10.10.121.169 will try to connect via SSH to the specified IP address. <br />
</details>
<img width="1093" height="113" alt="Screenshot from 2025-08-08 09-57-30" src="https://github.com/user-attachments/assets/86b208fc-7de6-4726-be81-c398a36bfa04" />
<img width="1093" height="113" alt="Screenshot from 2025-08-08 10-01-32" src="https://github.com/user-attachments/assets/ddfd4b6b-ec79-4589-b2e9-79e5d4730b1b" />

13. After gaining access to the system I couldn’t find much else via Jans system with just basic access. So I tried `Linpeas` which is a open source tool that automates the searching of potential priviliedge escalation vulnerabilities. In order to run this script we need to transfer the file from our system to Jans system.To do this we can use the command `scp` transfer protocol to send over our file.
 <img width="1106" height="80" alt="Screenshot from 2025-08-08 10-14-59" src="https://github.com/user-attachments/assets/b9d3e202-1c3d-4dd8-8a7a-3b987f046b09" />
<img width="1115" height="144" alt="Screenshot from 2025-08-08 10-19-37" src="https://github.com/user-attachments/assets/eda3af3d-7632-42fa-9dbc-4c87b32fca35" />

14. Once transferred is completed we need to allow execution using `chmod` <br />
        ◦ `chmod +x` indicates that the specific file has executable permissions

<img width="915" height="130" alt="Screenshot from 2025-08-08 10-20-56" src="https://github.com/user-attachments/assets/006a104b-6267-431f-b715-a83b806f9030" />

15. After running `Linpeas` I could see a vast amount of data, however something of interest has popped up for user Kay. An id_rsa file of her encrypted key for Kay. <img width="1213" height="1081" alt="Screenshot from 2025-08-08 10-27-00" src="https://github.com/user-attachments/assets/013688c4-e37c-4d6b-b78f-c962bea880da" />

16.  Since this key is encrypted we need to unencrypt the key, first let’s save the key in a file using `nano` an give it `chmod 600` permissions, giving access to only me to read and write to this file.

<img width="1030" height="191" alt="Screenshot from 2025-08-08 10-28-27" src="https://github.com/user-attachments/assets/78536acb-bdc7-49fb-bc64-744caaaf8297" />

17. Using a tool JohnTheRipper, a brute force password tool I used the associated tool called `ssh2john` which which helps decrypt an SSH key and give the hash of that key, we’ll then save this into another file in txt format to then use john to find the pasword of the file. Sure enough I was able to find the password. 
<img width="1236" height="111" alt="Screenshot from 2025-08-08 10-32-35" src="https://github.com/user-attachments/assets/69bf939a-ac6c-4fff-b4ca-e6a0957133c3" />

18. After obtaining the password we can use the rsa_id to SSH into the Kays directory and use the passphrase we found to access the system. <br />
        ◦ -i options tells the SSH program that it’s using a identity file for authentication.

<img width="1318" height="689" alt="Screenshot from 2025-08-08 10-49-01" src="https://github.com/user-attachments/assets/6c9877b7-d60c-4a2c-87b3-2ebebe101e2b" />

19. Finally we after searching through Kays system we find a pass.bak file and since we now have priviledges to access it we can see the flag for this CTF.

<img width="1322" height="173" alt="Screenshot from 2025-08-08 10-50-00" src="https://github.com/user-attachments/assets/12581eaf-31dd-44b3-9c48-115909404fa2" />

